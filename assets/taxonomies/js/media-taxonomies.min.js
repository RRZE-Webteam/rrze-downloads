jQuery(document).ready((function(){jQuery("html").delegate(".media-terms input","change",(function(){var e=jQuery(this).parents(".media-terms"),t=e.parent(),a={action:"save-media-terms",term_ids:[],attachment_id:e.data("id"),taxonomy:e.data("taxonomy")};e.find("input:checked").each((function(){a.term_ids.push(jQuery(this).val())})),t.addClass("media-save-terms"),jQuery.post(ajaxurl,a,(function(e){t.removeClass("media-save-terms")}))})),jQuery("html").delegate(".toggle-add-media-term","click",(function(e){e.preventDefault(),jQuery(this).parent().find(".add-new-term").toggle()})),jQuery("html").delegate(".save-media-term","click",(function(e){var t=jQuery(this),a=t.parent().find("input"),n=t.parent().find("select"),i={action:"add-media-term",attachment_id:t.data("id"),taxonomy:t.data("taxonomy"),parent:n.val(),term:a.val()};""!=i.term?jQuery.post(ajaxurl,i,(function(e){t.parents(".field").find(".media-terms ul:first").html(e.checkboxes),t.parents(".field").find("select").replaceWith(e.selectbox),a.val("")}),"json"):a.focus()}))}));