!function(){"use strict";var e={n:function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(n,{a:n}),n},d:function(r,n){for(var t in n)e.o(n,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:n[t]})},o:function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}},r=window.ReactJSXRuntime,n=window.wp.blocks;function t(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=Array(r);n<r;n++)t[n]=e[n];return t}var o=window.wp.i18n,i=window.wp.blockEditor,a=window.wp.components,l=window.wp.data,s=function(e){var n=e.attributes,t=e.setAttributes,i=(0,l.useSelect)((function(e){return{categories:(0,e("core").getEntityRecords)("taxonomy","attachment_category",{per_page:-1})}}),[]).categories,s=n.category,d=((void 0===s?"":s).split(",").filter(Boolean),i&&i.map((function(e){return e.slug})),i?i.map((function(e){return{label:e.name,value:e.slug,files:e.count,description:e.description}})):[]);return(0,r.jsx)(r.Fragment,{children:d.length>0?(0,r.jsx)(a.ComboboxControl,{__experimentalRenderItem:function(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{marginBottom:".2rem"},children:[(0,r.jsx)("strong",{children:e.item.label}),(0,r.jsx)("br",{})]}),(0,r.jsxs)("small",{children:[e.item.files,e.item.files>1?(0,o.__)(" files in this category: ","rrze-downloads"):(0,o.__)(" file in this category: ","rrze-downloads")]}),e.item.description&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),(0,r.jsx)("small",{children:(0,r.jsx)("em",{children:e.item.description})})]})]})},options:d,onChange:function(e){t({category:e})},label:(0,o.__)("Filter by Category","rrze-downloads"),help:(0,o.__)("Select a category to filter the downloads by.","rrze-downloads")}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.__experimentalText,{children:(0,o.__)("You currently have no Media Categories setup and in use. Follow these steps to create a custom Media Category:","rrze-downloads")}),(0,r.jsxs)("ol",{children:[(0,r.jsx)("li",{children:(0,o.__)("Navigate to Dashboard > Media Library > Categories","rrze-downloads")}),(0,r.jsx)("li",{children:(0,o.__)("Create a new Media Category with a descriptive name and a description.","rrze-downloads")}),(0,r.jsx)("li",{children:(0,o.__)("Start adding new Media items to your categories via your WordPress Media Library (Dashboard > Media Library)","rrze-downloads")}),(0,r.jsx)("li",{children:(0,o.__)("Save your current post or page and refresh the Editor to filter your download list by your newly created Media Library.","rrze-downloads")})]})]})})},d=window.wp.element,c=window.wp.serverSideRender,u=e.n(c),h=JSON.parse('{"UU":"rrze-downloads/downloads"}');(0,n.registerBlockType)(h.UU,{icon:{src:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"evenodd",children:(0,r.jsx)("path",{d:"M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"})})},__experimentalLabel:function(e,r){var n=r.context,t=e.title;if("list-view"===n&&t)return t},edit:function(e){var n,l,c=e.attributes,h=e.setAttributes,p=(0,i.useBlockProps)(),_=(n=(0,d.useState)(c.isInitialSetup),l=2,function(e){if(Array.isArray(e))return e}(n)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,o,i,a,l=[],s=!0,d=!1;try{if(i=(n=n.call(e)).next,0===r){if(Object(n)!==n)return;s=!1}else for(;!(s=(t=i.call(n)).done)&&(l.push(t.value),l.length!==r);s=!0);}catch(e){d=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw o}}return l}}(n,l)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(n,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),x=_[0],w=_[1];return(0,r.jsx)("div",Object.assign({},p,{children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.BlockControls,{children:(0,r.jsx)(a.ToolbarGroup,{children:(0,r.jsx)(a.ToolbarButton,{children:"Test"})})}),(0,r.jsxs)(a.Placeholder,{label:(0,o.__)("Downloads Block","rrze-downloads"),instructions:(0,o.__)("Configure your downloads block..","rrze-downloads"),isColumnLayout:!0,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(a.__experimentalSpacer,{paddingTop:"1rem",paddingBottom:"1rem",children:(0,r.jsx)("hr",{})}),(0,r.jsxs)(a.__experimentalGrid,{columns:6,children:[(0,r.jsxs)("div",{style:{gridColumn:"span 3"},children:[(0,r.jsx)(a.__experimentalSpacer,{paddingBottom:"1rem",children:(0,r.jsx)(a.__experimentalHeading,{level:4,children:(0,o.__)("Filter by Media Category","rrze-downloads")})}),(0,r.jsx)(a.__experimentalSpacer,{paddingRight:"2rem",children:(0,r.jsx)(s,{attributes:{category:c.category||"",num:c.num},setAttributes:h})})]}),(0,r.jsxs)("div",{style:{gridColumn:"span 3"},children:[(0,r.jsx)(a.__experimentalHeading,{level:4,children:(0,o.__)("Filter by File Type","rrze-downloads")}),(0,r.jsx)(a.__experimentalSpacer,{}),(0,r.jsx)(a.CheckboxControl,{label:(0,o.__)("Text files","rrze-downloads"),checked:c.search_text,help:(0,o.__)("Should the Download list contain Text files?","rrze-downloads"),onChange:function(){return h({search_text:!c.search_text})}}),(0,r.jsx)(a.CheckboxControl,{label:(0,o.__)("PDF & Application files","rrze-downloads"),checked:c.search_application,help:(0,o.__)("Should the Download list contain PDF or other Application files?","rrze-downloads"),onChange:function(){return h({search_application:!c.search_application})}}),(0,r.jsx)(a.CheckboxControl,{label:(0,o.__)("Images","rrze-downloads"),checked:c.search_image,help:(0,o.__)("Should the Download list contain jpg/jpeg, png or other image formats?","rrze-downloads"),onChange:function(){return h({search_image:!c.search_image})}}),(0,r.jsx)(a.CheckboxControl,{label:(0,o.__)("Audio files","rrze-downloads"),help:(0,o.__)("Should the Download list contain audio files?","rrze-downloads"),checked:c.search_audio,onChange:function(){return h({search_audio:!c.search_audio})}})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Button,{variant:"primary",onClick:function(){w(!1),h({isInitialSetup:!1})},children:(0,o.__)("Finish initial setup","rrze-downloads")}),(0,r.jsx)(a.__experimentalSpacer,{paddingTop:"1rem",children:(0,r.jsx)("hr",{})}),(0,r.jsx)(a.__experimentalHeading,{children:(0,o.__)("Preview","rrze-downloads")}),(0,r.jsx)(u(),{block:"rrze-downloads/downloads",attributes:c}),(0,r.jsx)(a.__experimentalSpacer,{})]})]})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u(),{block:"rrze-downloads/downloads",attributes:c})})}))},save:function(e){var n=e.attributes,t=i.useBlockProps.save();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",Object.assign({},t,{children:(0,r.jsxs)("h2",{children:["Hello World! ",n.title]})}))})}})}();